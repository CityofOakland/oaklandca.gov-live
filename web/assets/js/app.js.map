{"version":3,"sources":["webpack:///./src/js/app.js"],"names":["document","addEventListener","readyState","selectNavs","getElementsByClassName","selectNav","e","window","location","href","target","value","Array","from","forEach","select","init","prototype","slice","call","querySelectorAll","accordion","allowMultiple","hasAttribute","allowToggle","triggers","event","classList","contains","isExpanded","getAttribute","active","querySelector","setAttribute","getElementById","removeAttribute","preventDefault","key","which","toString","ctrlModifier","ctrlKey","match","index","indexOf","direction","length","focus","trigger","add","remove","expanded","menuItems","menuItemsHover","menuItemsClick","isVisible","elem","Element","Error","style","getComputedStyle","display","visibility","opacity","offsetWidth","offsetHeight","getBoundingClientRect","height","width","elemCenter","x","left","y","top","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","pointContainer","elementFromPoint","parentNode","el","i","parent","this","parentElement","className","innerTrigger","relatedTarget","tagName","stopPropagation","newIndex"],"mappings":"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","file":"/js/app.js","sourcesContent":["import 'alpinejs'\nimport 'picturefill'\n\nfunction init() {\n  const selectNavs = document.getElementsByClassName('js-select-nav');\n  if (selectNavs) {\n    Array.from(selectNavs).forEach(select => {\n      select.addEventListener(\"change\", selectNav);\n    });\n  }\n  function selectNav(e) {\n    window.location.href = e.target.value;\n  }\n}\n\n//Prevent the function to run before the document is loaded\ndocument.addEventListener(\"readystatechange\", function () {\n  if (document.readyState === \"complete\") {\n    init();\n  }\n});\n\n// Accordion\nArray.prototype.slice.call(document.querySelectorAll('.accordion')).forEach(function (accordion) {\n\n  // Allow for multiple accordion sections to be expanded at the same time\n  var allowMultiple = accordion.hasAttribute('data-allow-multiple');\n  // Allow for each toggle to both open and close individually\n  var allowToggle = (allowMultiple) ? allowMultiple : accordion.hasAttribute('data-allow-toggle');\n\n  // Create the array of toggle elements for the accordion group\n  var triggers = Array.prototype.slice.call(accordion.querySelectorAll('.accordion-header'));\n  var panels = Array.prototype.slice.call(accordion.querySelectorAll('.accordion-panel'));\n\n\n  accordion.addEventListener('click', function (event) {\n    var target = event.target;\n\n    if (target.classList.contains('accordion-header')) {\n      // Check if the current toggle is expanded.\n      var isExpanded = target.getAttribute('aria-expanded') == 'true';\n      var active = accordion.querySelector('[aria-expanded=\"true\"]');\n\n      // without allowMultiple, close the open accordion\n      if (!allowMultiple && active && active !== target) {\n        // Set the expanded state on the triggering element\n        active.setAttribute('aria-expanded', 'false');\n        // Hide the accordion sections, using aria-controls to specify the desired section\n        document.getElementById(active.getAttribute('aria-controls')).setAttribute('hidden', '');\n\n        // When toggling is not allowed, clean up disabled state\n        if (!allowToggle) {\n          active.removeAttribute('aria-disabled');\n        }\n      }\n\n      if (!isExpanded) {\n        // Set the expanded state on the triggering element\n        target.setAttribute('aria-expanded', 'true');\n        // Hide the accordion sections, using aria-controls to specify the desired section\n        document.getElementById(target.getAttribute('aria-controls')).removeAttribute('hidden');\n\n        // If toggling is not allowed, set disabled state on trigger\n        if (!allowToggle) {\n          target.setAttribute('aria-disabled', 'true');\n        }\n      }\n      else if (allowToggle && isExpanded) {\n        // Set the expanded state on the triggering element\n        target.setAttribute('aria-expanded', 'false');\n        // Hide the accordion sections, using aria-controls to specify the desired section\n        document.getElementById(target.getAttribute('aria-controls')).setAttribute('hidden', '');\n      }\n\n      event.preventDefault();\n    }\n  });\n\n  // Bind keyboard behaviors on the main accordion container\n  accordion.addEventListener('keydown', function (event) {\n    var target = event.target;\n    var key = event.which.toString();\n\n    var isExpanded = target.getAttribute('aria-expanded') == 'true';\n    var allowToggle = (allowMultiple) ? allowMultiple : accordion.hasAttribute('data-allow-toggle');\n\n    // 33 = Page Up, 34 = Page Down\n    var ctrlModifier = (event.ctrlKey && key.match(/33|34/));\n\n    // Is this coming from an accordion header?\n    if (target.classList.contains('accordion-header')) {\n      // Up/ Down arrow and Control + Page Up/ Page Down keyboard operations\n      // 38 = Up, 40 = Down\n      if (key.match(/38|40/) || ctrlModifier) {\n        var index = triggers.indexOf(target);\n        var direction = (key.match(/34|40/)) ? 1 : -1;\n        var length = triggers.length;\n        var newIndex = (index + length + direction) % length;\n\n        triggers[newIndex].focus();\n\n        event.preventDefault();\n      }\n      else if (key.match(/35|36/)) {\n        // 35 = End, 36 = Home keyboard operations\n        switch (key) {\n          // Go to first accordion\n          case '36':\n            triggers[0].focus();\n            break;\n          // Go to last accordion\n          case '35':\n            triggers[triggers.length - 1].focus();\n            break;\n        }\n        event.preventDefault();\n\n      }\n\n    }\n  });\n\n  // These are used to style the accordion when one of the buttons has focus\n  accordion.querySelectorAll('.accordion-header').forEach(function (trigger) {\n\n    trigger.addEventListener('focus', function (event) {\n      accordion.classList.add('focus');\n    });\n\n    trigger.addEventListener('blur', function (event) {\n      accordion.classList.remove('focus');\n    });\n\n  });\n\n  // Minor setup: will set disabled state, via aria-disabled, to an\n  // expanded/ active accordion which is not allowed to be toggled close\n  if (!allowToggle) {\n    // Get the first expanded/ active accordion\n    var expanded = accordion.querySelector('[aria-expanded=\"true\"]');\n\n    // If an expanded/ active accordion is found, disable\n    if (expanded) {\n      expanded.setAttribute('aria-disabled', 'true');\n    }\n  }\n\n});\n\n//Navigation\n\nvar menuItems = document.querySelectorAll('.has-submenu, #mobile-navigation');\nvar menuItemsHover = document.querySelectorAll('.has-submenu:not(.click)');\nvar menuItemsClick = document.querySelectorAll('.has-submenu.click > a, #mobile-navigation > a');\n\nfunction closeOtherMenuItems(parent){\n  Array.prototype.forEach.call(menuItemsClick, function(el, i){\n    if(parent){\n      if(el !== document.querySelector(parent)){\n        el.parentElement.classList.remove('open');\n        el.setAttribute('aria-expanded', \"false\");\n      }\n    } else {\n      el.parentElement.classList.remove('open');\n      el.setAttribute('aria-expanded', \"false\");\n    }\n  })\n}\n\n// Click\nArray.prototype.forEach.call(menuItemsClick, function(el, i){\n    el.addEventListener(\"mousedown\", function(event){\n      if(this.parentElement.classList.contains('open')){\n        this.parentElement.classList.remove('open');\n        el.setAttribute('aria-expanded', \"false\");\n\n      } else {\n        closeOtherMenuItems(el.getAttribute('data-parent'));\n        this.parentElement.classList.add('open');\n        el.setAttribute('aria-expanded', \"true\");\n\n      }\n    });\n});\n\n// Hover\nArray.prototype.forEach.call(menuItemsHover, function(el, i){\n    el.addEventListener(\"mouseover\", function(event){\n        this.className = \"has-submenu open\";\n    });\n    el.addEventListener(\"mouseout\", function(event){\n        document.querySelector(\".has-submenu.open\").className = \"has-submenu\";\n    });\n});\n\n// Keyboard\nArray.prototype.forEach.call(menuItems, function(el, i){\n    var trigger     = el.querySelector('a[aria-expanded]');\n    var triggers    = Array.prototype.slice.call(el.querySelectorAll('a.card, a.button, a.focusable, input, button'));\n\n    Array.prototype.forEach.call(triggers, function(innerTrigger, i){\n        innerTrigger.addEventListener('blur', function(event){\n            if(triggers.indexOf(event.relatedTarget) == -1){\n                el.classList.remove('open');\n                trigger.setAttribute('aria-expanded', \"false\");\n\n            }\n        });\n    })\n\n    el.addEventListener('keydown', function (event) {\n        // var focused         = el.querySelector(':focus');\n        var target          = event.target;\n        var key             = event.which.toString();\n        var ctrlModifier    = (event.ctrlKey && key.match(/33|34/));\n\n        // Press Enter\n        if(key == \"13\"){\n          if(trigger.getAttribute(\"aria-expanded\") == \"true\") {\n            el.classList.remove('open');\n            trigger.setAttribute('aria-expanded', \"false\");\n          } else {\n            trigger.setAttribute('aria-expanded', \"true\");\n            triggers[0].focus();\n\n            if(triggers[0].tagName == 'INPUT') {\n              event.preventDefault();\n            }\n          }\n          event.stopPropagation();\n        }\n\n        if(trigger.getAttribute('aria-expanded') == \"true\"){\n          if (key.match(/38|40/) || ctrlModifier) {\n              var index       = triggers.indexOf(target);\n              var direction   = (key.match(/34|40/)) ? 1 : -1;\n              var length      = triggers.length;\n              var newIndex    = (index + length + direction) % length;\n\n              if(index == -1) {\n                  triggers[0].focus();\n              } else if(direction == 1 && newIndex == 0) {\n                  el.classList.remove('open');\n                  trigger.setAttribute('aria-expanded', \"false\");\n                  trigger.focus();\n              } else if(direction == -1 && newIndex == (length - 1)) {\n                  el.classList.remove('open');\n                  trigger.setAttribute('aria-expanded', \"false\");\n                  trigger.focus();\n              } else {            \n                  if(isVisible(triggers[newIndex])){\n                    triggers[newIndex].focus();\n                    event.stopPropagation();\n                  } else {\n                    if(direction == 1) {\n                      for(var i = newIndex; i < triggers.length; i++){\n                        if(isVisible(triggers[i])){\n                          triggers[i].focus();\n                          break;\n                        }\n\n                        if(i == triggers.length - 1) {\n                          el.classList.remove('open');\n                          trigger.setAttribute('aria-expanded', \"false\");\n                          trigger.focus();\n                        }\n                      }\n                    } else {\n                      for(var i = newIndex; i >= 0; i--){\n                        if(isVisible(triggers[i])){\n                          triggers[i].focus();\n                          break;\n                        }\n\n                        if(i == 0) {\n                          el.classList.remove('open');\n                          trigger.setAttribute('aria-expanded', \"false\");\n                          trigger.focus();\n                        }\n                      }\n                    }\n                  }\n              }\n              event.preventDefault();\n          } else if (key.match(/35|36/)) {\n              switch (key) {\n                case '36':\n                  triggers[0].focus();\n                  break;\n                case '35':\n                  triggers[triggers.length - 1].focus();\n                  break;\n              }\n              event.preventDefault();\n          }\n        }\n    });\n})\n\nfunction isVisible(elem) {\n    if (!(elem instanceof Element)) throw Error('DomUtil: elem is not an element.');\n    const style = getComputedStyle(elem);\n    if (style.display === 'none') return false;\n    if (style.visibility !== 'visible') return false;\n    if (style.opacity < 0.1) return false;\n    if (elem.offsetWidth + elem.offsetHeight + elem.getBoundingClientRect().height +\n        elem.getBoundingClientRect().width === 0) {\n        return false;\n    }\n    const elemCenter   = {\n        x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,\n        y: elem.getBoundingClientRect().top + elem.offsetHeight / 2\n    };\n    if (elemCenter.x < 0) return false;\n    if (elemCenter.x > (document.documentElement.clientWidth || window.innerWidth)) return false;\n    if (elemCenter.y < 0) return false;\n    if (elemCenter.y > (document.documentElement.clientHeight || window.innerHeight)) return false;\n    let pointContainer = document.elementFromPoint(elemCenter.x, elemCenter.y);\n    do {\n        if (pointContainer === elem) return true;\n    } while (pointContainer = pointContainer.parentNode);\n    return false;\n}"],"sourceRoot":""}