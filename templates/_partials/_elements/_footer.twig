{% set seoMaticLinks = seomatic.site.sameAsLinks %}
{% set socialMedia = [
  [ seoMaticLinks.facebook.url, 'facebook.svg', 'Oakland Facebook Page' ],
  [ seoMaticLinks.twitter.url, 'twitter.svg', 'Oakland Twitter Page' ],
  [ seoMaticLinks.instagram.url, 'instagram.svg', 'Oakland Instagram Page' ]
] %}

<footer class="bg-gray-1000 bg-transparent-oakland-roots-black">
    <div class="container py-8">
        <nav id="footer-navigation" class="lg:flex flex-wrap text-white" name="Footer Navigation">
            {% for item in navigationFooter.navigationFooter.level(1).all() %}
            {% if loop.index == 1 %}
                <div class="md:w-full lg:w-1/2">
                    <h5>{{ item.heading }}</h5>
                    <div class="grid grid-cols-2 gap-x-4">
                        {% set navItems = item.children.all() %}
                        <ul>
                            {% for navItem in navItems|slice(0, navItems|length/2) %}
                                <li><a href="{{ navItem.linkit.url }}">{{ navItem.linkit.text }}</a></li>
                            {% endfor %}
                        </ul>
                        <ul>
                            {% for navItem in navItems|slice(navItems|length/2, navItems|length) %}
                                <li><a href="{{ navItem.linkit.url }}">{{ navItem.linkit.text }}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% else %}
                <div class="md:w-1/2 lg:w-1/4 mt-8 lg:mt-0">
                    <h5>{{ item.heading }}</h5>
                    <ul>
                        {% for navItem in item.children.all() %}
                            <li><a href="{{ navItem.linkit.url }}">{{ navItem.linkit.text }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            {% endfor %}
            <div class="md:w-1/2 lg:w-1/4 mt-8 lg:mt-0">
                {% if craft.freeform.form('signUp') %}
                    <h5>Sign Up</h5>
                    {{ craft.freeform.form('signUp', {
                        labelClass: "form-label",
                        inputClass: "form-control",
                        submitClass: "button small",
                    }).render() }}
                {% endif %}
            </div>
        </nav>
    </div>

    <div class="bg-black text-white">
        <div class="container py-6">
            <nav class="lg:flex items-center justify-between" id="bottom-navigation" name="Bottom Navigation">
                <div class="lg:flex items-end">
                    <a href="{{ siteUrl }}">
                        {{ svg( '@webroot/dist/img/logo-oakland.svg')|attr({ class: 'w-40 h-10 fill-current text-gray-100 hover:text-gray-200' }) }}
                        <span class="sr-only">Home</span>
                    </a>
                    <ul class="grid grid-cols-2 lg:flex items-center my-4 lg:my-0 lg:ml-6">
                        {% for item in navigationFooter.linkits.all() %}
                            <li class="lg:ml-6"><a href="{{ item.linkit.url }}">{{ item.linkit.text }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
                <ul class="flex items-center my-0">
                    {% for socItem in socialMedia %}
                        <li class="mr-4 lg:mr-0 lg:ml-4">
                            <a href="{{ socItem[0] }}" target="_blank" class="flex items-center justify-center w-10 h-10 bg-white rounded-full text-gray-1000 hover:bg-yellow-500 hover:text-gray-1000">
                                {{ svg('@webroot/dist/img/logo-' ~ socItem[1])|attr({class:'h-5'}) }}
                                <span class="hidden-visually">{{ socItem[2] }}</span>
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </nav>
        </div>
    </div>
</footer>

{% js on load %}
$('footer a').on('click', function(){
        var link_clicked    = $(this).attr('href').trim();
        var link_label      = $(this).text().trim();

        dl.push({
            'event'         : 'footer_clicked',
            'current_url'   : '{{ craft.app.request.absoluteUrl }}',
            'url'           : link_clicked,
            'label'         : link_label,
            'debug_mode'    : true,
        });
    });
{% endjs %}
