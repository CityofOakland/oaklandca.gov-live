{% set mainNav = [
  { title: "News", url: "/departments/media-center" },
  { title: "Services", url: "/services" },
  { title: "Departments", url: "/departments" },
  { title: "Calendar", url: "/calendar" },
  { title: "City Council", url: "/departments/oakland-city-council" }
] %}

<div id="nav-wrapper" class="fixed z-40 w-full">
  <div x-data="{ openNav: false }" class="relative z-50 block w-full trans trans-fast nav-bar" id="nav-bar">
    <div class="relative z-40 bg-gray-1000">
      <nav id="main-navigation" class="flex items-stretch justify-between py-3 lg:py-5" name="Main Navigation" role="navigation">
        <button @click="openNav = true" class="flex items-center justify-center w-16 -my-3 text-gray-900 bg-green-500 fill-current lg:-my-5 touch-action-none lg:oak-hidden hover:bg-green-700 hover:text-gray-1000">
          {{ craft.inlin.er('/assets/img/icon-menu.svg') | replace('<svg ', '<svg class="h-9 md:h-10 xl:oak-hidden" ') | raw }}
        </button>
        <a id="home-link" class="flex items-center justify-center h-full px-2 text-gray-100 fill-current hover:text-gray-200 trans-fast" href="/" name="Home">
          {{ craft.inlin.er('/assets/img/logo-oakland-tree.svg') | replace('<svg ', '<svg class="h-9 sm:h-10 w-14 md:h-10 sm:oak-hidden" ') | raw }}
          {{ craft.inlin.er('/assets/img/logo-oakland.svg') | replace('<svg ', '<svg class="w-40 h-10 oak-hidden sm:block" ') | raw }}
          <span class="hidden-visually">Home</span>
        </a>
        <form class="relative z-0 flex justify-end flex-1 pl-4 pr-6 lg:pr-0" action="{{ url('search') }}">
          <label for="site-search" class="hidden-visually">Search?</label>
          <input type="search" id="site-search" class="z-10 w-full pl-10 pr-6 mb-0 text-sm leading-normal text-gray-100 placeholder-gray-200 bg-gray-900 border-2 border-gray-800 rounded appearance-none search-box h-9 md:h-10 md:text-base" aria-label="Site Search" name="query" placeholder="Search" value="">
        </form>
        <ul class="pr-6 mr-6 text-xs font-bold tracking-wide uppercase border-r border-gray-700 lg:flex oak-hidden lg:my-0 lg:justify-end lg:items-center xl:text-sm">
          {% for nav in mainNav %}
            <li class="lg:ml-4">
              <a href="{{ nav.url }}" class="text-gray-100 hover:text-gray-200 hover:underline trans-fast">{{ nav.title | replace({' ' : '&nbsp;'}) | raw }}</a>
            </li>
          {% endfor %}
          
        </ul>
        <div class="pr-2 lg:items-center oak-hidden lg:flex">
          <a href="/officials/libby-schaaf" class="flex items-center text-xs text-gray-100 hover:text-gray-200" title="View the homepage of Libby Schaaf, The Mayor of the City of Oakland">
            <div class="mx-2 leading-tight text-right oak-hidden xl:block">
              <span class="font-bold">Mayor</span><br>
              Libby Schaaf
            </div>
            <img src="https://city-of-oakland.imgix.net/portraits/oakland_mayor_libby_schaaf_city_of_oakland-1519844049-5198.jpg?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=64&amp;q=80&amp;w=64" sizes="100vw" srcset="https://city-of-oakland.imgix.net/portraits/oakland_mayor_libby_schaaf_city_of_oakland-1519844049-5198.jpg?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=128&amp;q=80&amp;w=128 128w, https://city-of-oakland.imgix.net/portraits/oakland_mayor_libby_schaaf_city_of_oakland-1519844049-5198.jpg?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=64&amp;q=80&amp;w=64 64w" alt="Portrait of Mayor, Libby Schaaf" class="block w-10 h-10 border-2 border-gray-800 rounded-full">
          </a>
          <a href="/services/oak311" class="flex ml-2" title="Report a problem online to OAK 311">
            <img src="https://city-of-oakland.imgix.net/news/311-Logo.png?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=64&amp;q=80&amp;w=64" sizes="100vw" srcset="https://city-of-oakland.imgix.net/news/311-Logo.png?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=128&amp;q=80&amp;w=128 128w, https://city-of-oakland.imgix.net/news/311-Logo.png?auto=compress%2Cformat&amp;crop=focalpoint&amp;fit=min&amp;fp-x=0.5&amp;fp-y=0.5&amp;h=64&amp;q=80&amp;w=64 64w" alt="OAK 311 Logo" class="block w-10 h-10 border-2 border-gray-800 rounded-full">
          </a>
        </div>
      </nav>
    </div>
    {# BEGIN MOBILE NAV #}
    <div
        class="relative z-30 py-0 bg-gray-1000"
        x-show="openNav"
        @click.away="openNav = false"
        x-cloak
      >
      <ul class="container justify-end flex-1 w-full pt-0 pb-4 mx-auto my-0 text-lg">
        {% for nav in mainNav %}
          <li class="{% if not loop.first %}border-t {% endif %}border-gray-600">
            <a class="flex items-center justify-between py-2 font-normal text-gray-100 fill-current hover:text-gray-200" href="{{ nav.url }}"><div class="text">{{ nav.title }}</div><div class="text">{{ craft.inlin.er('/assets/img/icon-arrow.svg') | replace('<svg ', '<svg class="w-4 h-4 xl:oak-hidden" ') | raw }}</div></a>
          </li>
        {% endfor %}
        <li class="border-t border-gray-600">
          <a class="flex items-center justify-between py-2 font-normal text-gray-100 fill-current hover:text-gray-200" href="/topics/oaklandlovelife"><div class="text">#OaklandLoveLife</div><div class="text">{{ craft.inlin.er('/assets/img/icon-arrow.svg') | replace('<svg ', '<svg class="w-4 h-4 xl:oak-hidden" ') | raw }}</div></a>
        </li>
        <li class="border-t border-gray-600">
          <a class="flex items-center justify-between py-2 font-normal text-gray-100 fill-current hover:text-gray-200" href="/officials/libby-schaaf"><div class="text">Mayor Libby Schaaf</div><div class="text">{{ craft.inlin.er('/assets/img/icon-arrow.svg') | replace('<svg ', '<svg class="w-4 h-4 xl:oak-hidden" ') | raw }}</div></a>
        </li>
        <li class="border-t border-gray-600">
          <a class="flex items-center justify-between py-2 font-normal text-gray-100 fill-current hover:text-gray-200" href="/services/oak311"><div class="text">Report a problem to OAK 311</div><div class="text">{{ craft.inlin.er('/assets/img/icon-arrow.svg') | replace('<svg ', '<svg class="w-4 h-4 xl:oak-hidden" ') | raw }}</div></a>
        </li>
      </ul>
    </div>
    {# END MOBILE NAV #}
  </div>
</div>
