{% extends "_content.twig" %}

{% set bannerTitle = entry.title %}
{% set breadCrumbLinks = [
  {
    title: 'Documents',
    link: '/documents'
  }
] %}

{% block content %}
  {% if entry.documents.exists() %}
    {{ include("_partials/_elements/_module-header.twig", {
      headerText: "Documents",
    }) }}
    {% if entry.sortDocumentsByDate %}
      {% set entries = entry.documents.orderBy('postDate desc').all() %}
    {% else %}
      {% set entries = entry.documents.all() %}
    {% endif %}
    <div class="border-t border-gray-300">
      {% for entry in entries %}
        {% if entry.section.handle == "documents" %}
          {% set file = entry.documentFile.one %}
          <article class="mb-4">
            <h3 class="mb-0 text-xl">
              <a href="{{ file.url }}" class="inline-flex items-center fill-current duration-75">
                <div class="mt-1 mr-2 inline-block h-5 w-8">
                  {{ svg("@webroot/dist/img/icon-#{file.kind}.svg")|attr({
                      class: 'w-full h-full'
                  })|raw }}
                </div>
                {{ entry.title }}
                ({{ file.kind|upper }})
              </a>
            </h3>
            {{ entry.summary|retcon('attr', '*', { class: 'pl-8 mt-2'}) }}
          </article>
        {% else %}
          <article>
            <h3 class="mb-0 text-xl">
              <a href="{{ entry.url }}" class="inline-flex">DOCUMENT PACKET: {{ entry.title }}</a>
            </h3>
          </article>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
